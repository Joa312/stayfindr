// Multiple CDN fallbacks for Leaflet
        function loadLeafletWithFallback() {
            return new Promise((resolve) => {
                // Check if already loaded
                if (typeof L !== 'undefined') {
                    console.log('✅ Leaflet already loaded');
                    resolve(true);
                    return;
                }

                let attempts = 0;
                const maxAttempts = 30; // 3 seconds total
                
                function checkLeaflet() {
                    attempts++;
                    if (typeof L !== 'undefined') {
                        console.log('✅ Leaflet loaded successfully');
                        resolve(true);
                    } else if (attempts >= maxAttempts) {
                        console.log('⚠️ Leaflet failed to load, continuing without map');
                        resolve(false);
                    } else {
                        if (attempts === 1) console.log('⏳ Loading map library...');
                        setTimeout(checkLeaflet, 100);
                    }
                }
                checkLeaflet();
            });
        }
